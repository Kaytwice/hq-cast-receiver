<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HQ Dungeon Display</title>

  <script src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>

  <style>
    html, body {
      margin: 0;
      height: 100%;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #fff;
    }

    body {
      background:
        linear-gradient(rgba(0,0,0,.38), rgba(0,0,0,.38)),
        url("./background_party.jpg") center/cover no-repeat;
      overflow: hidden;
    }

    /* ✅ Safe area + "Hochformat-Panel" */
    .wrap {
      height: calc(100vh - 56px); /* mehr Reserve gegen Overscan */
      box-sizing: border-box;
      padding: 14px 16px;
      display: flex;
      flex-direction: column;

      max-width: 700px;
      margin: 0 auto;
    }

    .title {
      font-size: 26px;
      font-weight: 650;
      letter-spacing: .2px;
      text-shadow: 0 2px 6px rgba(0,0,0,.65);
      line-height: 1.1;
    }

    .status {
      margin-top: 4px;
      font-size: 12px;
      opacity: .75;
    }

    .section {
      margin-top: 10px;
      font-size: 15px;
      letter-spacing: 3px;
      text-transform: uppercase;
      opacity: .95;
    }

    .divider {
      height: 1px;
      background: rgba(255,255,255,.22);
      margin: 8px 0 6px;
      flex: 0 0 auto;
    }

    /* ✅ Kein Scroll (TV/Beamer) */
    #list {
      flex: 1 1 auto;
      overflow: hidden;
      padding-right: 0;
    }
    #list::-webkit-scrollbar { display: none; }

    .row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,.16);
    }

    .pos {
      width: 24px;
      text-align: center;
      font-size: 13px;
      font-weight: 750;
      opacity: .85;
      flex: 0 0 auto;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid rgba(255,255,255,.28);
      object-fit: cover;
      background: rgba(0,0,0,.25);
      flex: 0 0 auto;
    }

    .info {
      flex: 1 1 auto;
      min-width: 0;
    }

    .name {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 1.6px;
      text-transform: uppercase;
      text-shadow: 0 2px 6px rgba(0,0,0,.6);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .sub {
      margin-top: 2px;
      font-size: 13px;
      opacity: .7;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .vals {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: flex-end;
      flex: 0 0 auto;
    }

    .val {
      display: flex;
      align-items: center;
      gap: 7px;
      font-size: 18px;
      font-weight: 650;
      color: #ffd84a;
      text-shadow: 0 2px 6px rgba(0,0,0,.55);
    }

    .coin {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #ffd84a;
      display: inline-block;
      box-shadow: 0 0 0 2px rgba(0,0,0,.20) inset;
      flex: 0 0 auto;
    }

    .selected {
      outline: 2px solid rgba(90,166,255,.95);
      outline-offset: 4px;
      border-radius: 10px;
    }

    .zargon {
      margin: 8px 0 4px;
      padding: 8px 12px;
      background: rgba(20,20,26,.70);
      border-radius: 10px;
      font-size: 18px;
      letter-spacing: 3px;
      text-transform: uppercase;
      border: 1px solid rgba(255,255,255,.14);
    }

    /* =========================================================
       ✅ Auto-Compact Mode (vom receiver.js gesetzt)
       Ziel: ab 7/8 Helden nochmal dichter
       ========================================================= */

    /* compact: ein bisschen kleiner */
    body.compact .row { padding: 5px 0; gap: 10px; }
    body.compact .avatar { width: 36px; height: 36px; }
    body.compact .pos { width: 22px; font-size: 12px; }
    body.compact .name { font-size: 16px; letter-spacing: 1.2px; }
    body.compact .sub { font-size: 12px; margin-top: 2px; }
    body.compact .vals { gap: 14px; }
    body.compact .val { font-size: 16px; gap: 6px; }
    body.compact .coin { width: 12px; height: 12px; }
    body.compact .zargon { font-size: 16px; padding: 7px 10px; margin: 7px 0 4px; }
    body.compact .title { font-size: 24px; }
    body.compact .section { font-size: 14px; }
    body.compact .divider { margin: 7px 0 5px; }

    /* ultra: für "8 Helden" maximal dicht */
    body.ultra .row { padding: 4px 0; gap: 9px; }
    body.ultra .avatar { width: 32px; height: 32px; }
    body.ultra .pos { width: 20px; font-size: 11px; }
    body.ultra .name { font-size: 15px; letter-spacing: 1.0px; }
    body.ultra .sub { font-size: 11px; margin-top: 1px; }
    body.ultra .vals { gap: 12px; }
    body.ultra .val { font-size: 15px; gap: 6px; }
    body.ultra .coin { width: 11px; height: 11px; }
    body.ultra .zargon { font-size: 15px; padding: 6px 10px; margin: 6px 0 3px; }
    body.ultra .title { font-size: 22px; }
    body.ultra .section { font-size: 13px; }
    body.ultra .divider { margin: 6px 0 4px; }
    body.ultra .status { font-size: 11px; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="title" id="partyName">Party</div>
    <div class="status" id="status">Warte auf Verbindung…</div>

    <div class="section">Mitglieder</div>
    <div class="divider"></div>

    <div id="list"></div>
  </div>

  <script src="./receiver.js?v=21"></script>
</body>
</html>